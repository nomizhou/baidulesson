<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta charset="utf-8">
	<style type="text/css">
		div {
			height: 480px;
			width: 480px;
			background-image: url("emotion.jpg");
			background-position: 0px 0px;
		}
	</style>
</head>
<body>
	<div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
	<button id="fade-btn">淡出</button>
	<div id="photo"></div>
    <script>
        var box = document.getElementById('fade-obj');
        var btn = document.getElementById('fade-btn');
        var o = (box.style.opacity || 1) * 100;
    	btn.onclick= function (){
    		if (o >= 100) {
    			var fadeout = setInterval(function(){
    				if(o <= 0){
    					btn.innerText = "淡入";
    					clearInterval(fadeout);
    					return;
    				}
    				o -= 10;
    				box.style.opacity = o / 100;
    				btn.disabled= false;
    			},30)
    		}else if(o <= 0){
    			var fadeout = setInterval(function(){
    				if (o >= 100){
    					btn.innerText = "淡出";
    					clearInterval(fadeout);
    					return;
    				}
    				o += 10;
    				box.style.opacity = o / 100;
    				btn.disabled= false;
    			},30)
    		}
    	}

    	var div = document.getElementById('photo');
  		var i = 1;
    	var show = setInterval(function(){
    		if(i<=17){
    			div.style.backgroundPosition = "0px " + i*480 + "px";
    		}else if(i==18){
    			i=0;
    		}
    		i++;
    	},100)
    	
    		
 	</script>
</body>
</html>
